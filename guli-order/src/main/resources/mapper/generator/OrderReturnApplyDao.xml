<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="guliorder.dao.OrderReturnApplyDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="guliorder.entity.OrderReturnApplyEntity" id="orderReturnApplyMap">
        <result property="id" column="id"/>
        <result property="orderId" column="order_id"/>
        <result property="skuId" column="sku_id"/>
        <result property="orderSn" column="order_sn"/>
        <result property="createTime" column="create_time"/>
        <result property="memberUsername" column="member_username"/>
        <result property="returnAmount" column="return_amount"/>
        <result property="returnName" column="return_name"/>
        <result property="returnPhone" column="return_phone"/>
        <result property="status" column="status"/>
        <result property="handleTime" column="handle_time"/>
        <result property="skuImg" column="sku_img"/>
        <result property="skuName" column="sku_name"/>
        <result property="skuBrand" column="sku_brand"/>
        <result property="skuAttrsVals" column="sku_attrs_vals"/>
        <result property="skuCount" column="sku_count"/>
        <result property="skuPrice" column="sku_price"/>
        <result property="skuRealPrice" column="sku_real_price"/>
        <result property="reason" column="reason"/>
        <result property="description述" column="description述"/>
        <result property="descPics" column="desc_pics"/>
        <result property="handleNote" column="handle_note"/>
        <result property="handleMan" column="handle_man"/>
        <result property="receiveMan" column="receive_man"/>
        <result property="receiveTime" column="receive_time"/>
        <result property="receiveNote" column="receive_note"/>
        <result property="receivePhone" column="receive_phone"/>
        <result property="receiveAddress" column="receive_address"/>
    </resultMap>

	<select id="queryObject" resultType="guliorder.entity.OrderReturnApplyEntity">
		select * from oms_order_return_apply where id = #{value}
	</select>

	<select id="queryList" resultType="guliorder.entity.OrderReturnApplyEntity">
		select * from oms_order_return_apply
        <choose>
            <when test="sidx != null and sidx.trim() != ''">
                order by ${sidx} ${order}
            </when>
			<otherwise>
                order by id desc
			</otherwise>
        </choose>
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</select>
	
 	<select id="queryTotal" resultType="int">
		select count(*) from oms_order_return_apply 
	</select>
	 
	<insert id="save" parameterType="guliorder.entity.OrderReturnApplyEntity" useGeneratedKeys="true" keyProperty="id">
		insert into oms_order_return_apply
		(
			`order_id`, 
			`sku_id`, 
			`order_sn`, 
			`create_time`, 
			`member_username`, 
			`return_amount`, 
			`return_name`, 
			`return_phone`, 
			`status`, 
			`handle_time`, 
			`sku_img`, 
			`sku_name`, 
			`sku_brand`, 
			`sku_attrs_vals`, 
			`sku_count`, 
			`sku_price`, 
			`sku_real_price`, 
			`reason`, 
			`description述`, 
			`desc_pics`, 
			`handle_note`, 
			`handle_man`, 
			`receive_man`, 
			`receive_time`, 
			`receive_note`, 
			`receive_phone`, 
			`receive_address`
		)
		values
		(
			#{orderId}, 
			#{skuId}, 
			#{orderSn}, 
			#{createTime}, 
			#{memberUsername}, 
			#{returnAmount}, 
			#{returnName}, 
			#{returnPhone}, 
			#{status}, 
			#{handleTime}, 
			#{skuImg}, 
			#{skuName}, 
			#{skuBrand}, 
			#{skuAttrsVals}, 
			#{skuCount}, 
			#{skuPrice}, 
			#{skuRealPrice}, 
			#{reason}, 
			#{description述}, 
			#{descPics}, 
			#{handleNote}, 
			#{handleMan}, 
			#{receiveMan}, 
			#{receiveTime}, 
			#{receiveNote}, 
			#{receivePhone}, 
			#{receiveAddress}
		)
	</insert>
	 
	<update id="updatee" parameterType="guliorder.entity.OrderReturnApplyEntity">
		update oms_order_return_apply 
		<set>
			<if test="orderId != null">`order_id` = #{orderId}, </if>
			<if test="skuId != null">`sku_id` = #{skuId}, </if>
			<if test="orderSn != null">`order_sn` = #{orderSn}, </if>
			<if test="createTime != null">`create_time` = #{createTime}, </if>
			<if test="memberUsername != null">`member_username` = #{memberUsername}, </if>
			<if test="returnAmount != null">`return_amount` = #{returnAmount}, </if>
			<if test="returnName != null">`return_name` = #{returnName}, </if>
			<if test="returnPhone != null">`return_phone` = #{returnPhone}, </if>
			<if test="status != null">`status` = #{status}, </if>
			<if test="handleTime != null">`handle_time` = #{handleTime}, </if>
			<if test="skuImg != null">`sku_img` = #{skuImg}, </if>
			<if test="skuName != null">`sku_name` = #{skuName}, </if>
			<if test="skuBrand != null">`sku_brand` = #{skuBrand}, </if>
			<if test="skuAttrsVals != null">`sku_attrs_vals` = #{skuAttrsVals}, </if>
			<if test="skuCount != null">`sku_count` = #{skuCount}, </if>
			<if test="skuPrice != null">`sku_price` = #{skuPrice}, </if>
			<if test="skuRealPrice != null">`sku_real_price` = #{skuRealPrice}, </if>
			<if test="reason != null">`reason` = #{reason}, </if>
			<if test="description述 != null">`description述` = #{description述}, </if>
			<if test="descPics != null">`desc_pics` = #{descPics}, </if>
			<if test="handleNote != null">`handle_note` = #{handleNote}, </if>
			<if test="handleMan != null">`handle_man` = #{handleMan}, </if>
			<if test="receiveMan != null">`receive_man` = #{receiveMan}, </if>
			<if test="receiveTime != null">`receive_time` = #{receiveTime}, </if>
			<if test="receiveNote != null">`receive_note` = #{receiveNote}, </if>
			<if test="receivePhone != null">`receive_phone` = #{receivePhone}, </if>
			<if test="receiveAddress != null">`receive_address` = #{receiveAddress}</if>
		</set>
		where id = #{id}
	</update>
	
	<delete id="deletee">
		delete from oms_order_return_apply where id = #{value}
	</delete>
	
	<delete id="deleteBatch">
		delete from oms_order_return_apply where id in 
		<foreach item="id" collection="array" open="(" separator="," close=")">
			#{id}
		</foreach>
	</delete>

</mapper>