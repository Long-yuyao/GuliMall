<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="gulistorage.dao.WareOrderBillDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="gulistorage.entity.WareOrderBillEntity" id="wareOrderBillMap">
        <result property="id" column="id"/>
        <result property="orderId" column="order_id"/>
        <result property="orderSn" column="order_sn"/>
        <result property="consignee" column="consignee"/>
        <result property="consigneeTel" column="consignee_tel"/>
        <result property="deliveryAddress" column="delivery_address"/>
        <result property="orderComment" column="order_comment"/>
        <result property="paymentWay" column="payment_way"/>
        <result property="taskStatus" column="task_status"/>
        <result property="orderBody" column="order_body"/>
        <result property="trackingNo" column="tracking_no"/>
        <result property="createTime" column="create_time"/>
        <result property="wareId" column="ware_id"/>
        <result property="taskComment" column="task_comment"/>
    </resultMap>

	<select id="queryObject" resultType="gulistorage.entity.WareOrderBillEntity">
		select * from wms_ware_order_bill where id = #{value}
	</select>

	<select id="queryList" resultType="gulistorage.entity.WareOrderBillEntity">
		select * from wms_ware_order_bill
        <choose>
            <when test="sidx != null and sidx.trim() != ''">
                order by ${sidx} ${order}
            </when>
			<otherwise>
                order by id desc
			</otherwise>
        </choose>
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</select>
	
 	<select id="queryTotal" resultType="int">
		select count(*) from wms_ware_order_bill 
	</select>
	 
	<insert id="save" parameterType="gulistorage.entity.WareOrderBillEntity" useGeneratedKeys="true" keyProperty="id">
		insert into wms_ware_order_bill
		(
			`order_id`, 
			`order_sn`, 
			`consignee`, 
			`consignee_tel`, 
			`delivery_address`, 
			`order_comment`, 
			`payment_way`, 
			`task_status`, 
			`order_body`, 
			`tracking_no`, 
			`create_time`, 
			`ware_id`, 
			`task_comment`
		)
		values
		(
			#{orderId}, 
			#{orderSn}, 
			#{consignee}, 
			#{consigneeTel}, 
			#{deliveryAddress}, 
			#{orderComment}, 
			#{paymentWay}, 
			#{taskStatus}, 
			#{orderBody}, 
			#{trackingNo}, 
			#{createTime}, 
			#{wareId}, 
			#{taskComment}
		)
	</insert>
	 
	<update id="updatee" parameterType="gulistorage.entity.WareOrderBillEntity">
		update wms_ware_order_bill 
		<set>
			<if test="orderId != null">`order_id` = #{orderId}, </if>
			<if test="orderSn != null">`order_sn` = #{orderSn}, </if>
			<if test="consignee != null">`consignee` = #{consignee}, </if>
			<if test="consigneeTel != null">`consignee_tel` = #{consigneeTel}, </if>
			<if test="deliveryAddress != null">`delivery_address` = #{deliveryAddress}, </if>
			<if test="orderComment != null">`order_comment` = #{orderComment}, </if>
			<if test="paymentWay != null">`payment_way` = #{paymentWay}, </if>
			<if test="taskStatus != null">`task_status` = #{taskStatus}, </if>
			<if test="orderBody != null">`order_body` = #{orderBody}, </if>
			<if test="trackingNo != null">`tracking_no` = #{trackingNo}, </if>
			<if test="createTime != null">`create_time` = #{createTime}, </if>
			<if test="wareId != null">`ware_id` = #{wareId}, </if>
			<if test="taskComment != null">`task_comment` = #{taskComment}</if>
		</set>
		where id = #{id}
	</update>
	
	<delete id="deletee">
		delete from wms_ware_order_bill where id = #{value}
	</delete>
	
	<delete id="deleteBatch">
		delete from wms_ware_order_bill where id in 
		<foreach item="id" collection="array" open="(" separator="," close=")">
			#{id}
		</foreach>
	</delete>

</mapper>